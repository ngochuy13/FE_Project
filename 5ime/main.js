function windowWidth(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth}window.Puzzle=window.Puzzle||{},jQuery(function(a){window._secondStage={},window.Puzzle=function(){var b=a("#puzzle-wrapper"),c=(a("#change-color-wrapper"),{}),d=15,e=0,f=null,g=a("#timer-text"),h=3,i=60,j=function(a,b,c){var d=b-((Date.now()-a)/1e3|0),e=d/60|0,f=d%60|0;return e=10>e?"0"+e:e,f=10>f?"0"+f:f,c.textContent=e+":"+f,0===d?!1:!0},k=function(a,b){var c=Date.now(),d=g.get(0);j(c,a,d),f=setInterval(function(){j(c,a,d)||(clearInterval(f),b())},1e3)},l=function(a){var b=a.target,c=(parseFloat(b.getAttribute("data-x"))||0)+a.dx,d=(parseFloat(b.getAttribute("data-y"))||0)+a.dy;b.style.webkitTransform=b.style.transform="translate("+c+"px, "+d+"px)",b.setAttribute("data-x",c),b.setAttribute("data-y",d)},m=function(b){var c=b.target;a(c).hasClass("dropped")||(c.style.webkitTransform=c.style.transform="translate(0px, 0px)",c.setAttribute("data-x",0),c.setAttribute("data-y",0))},n=function(){c.initSkeleton(),a(".sym-full-image",b).addClass("hide"),a(".skeleton-motobike",b).removeClass("hide")},o=function(){e=0,f=null;var c=a(".accessories",b);a(".sym-full-image",b).removeClass("hide"),a(".skeleton-motobike",b).addClass("hide").find(".bubble").each(function(){var b=c.find("."+this.id+"-container");a(this).find("img").attr("enabled","true").removeAttr("style").appendTo(b)}),k(h,n)},p=function(){a(".btn-complete",b).addClass("hide"),a("#replay-modal").modal("show")},q=function(){a(".btn-complete",b).off("click").on("click",r).removeClass("hide"),clearInterval(f)},r=function(){b.removeClass("active"),window.secondStage.show()};return c.initSkeleton=function(){interact(".draggable").draggable({onmove:l,onend:m});a(".shape").each(function(b){var c="shape_"+b;interact("#"+c).dropzone({accept:"."+c,overlap:.3,ondrop:function(b){e++,a(this._element).attr("enabled","false").append(a(b.relatedTarget)),e===d&&q()}})}),k(i,function(){p()})},c.init=function(){0!==b.length&&(a("#replay-modal").on("hidden.bs.modal",function(){o()}),k(h,n))},c.init()}(),window.secondStage=function(){var b=a("#change-color-wrapper"),c={},d=function(b){var c=a(".active",a(this)),d=a("img",c).attr("src"),e=a("img",c).attr("data-id");a("#"+e+" img").attr("src",d)},e=function(){a(".accessories-area-left, .accessories-area-right, .btn-complete").addClass("hide"),a(".owl-carousel",b).addClass("hide").each(function(){}),a(".extra-info-form",b).removeClass("hide")},f=function(){a(".extra-info-form",b).addClass("hide"),a("#extra-info-modal").modal("show")};return c.show=function(){b.addClass("active")},c.initUI=function(){a("#upload-caption-form").on("submit",function(b){return b.preventDefault(),html2canvas(a("#change-color-wrapper").get(0),{onrendered:function(b){a.ajax({url:"/",type:"POST",data:b.toDataURL(),success:function(){f()},error:function(){f()}})}}),!1})},c.init=function(){return c.initUI(),a(".owl-carousel",b).owlCarousel({items:1,loop:!0,nav:!0,dots:!1,navText:["&nbsp;","&nbsp;"]}).on("changed.owl.carousel",d),a(".btn-complete",b).off("click").on("click",e),c},c.init()}(),a(window).resize(function(){var b=a(window).width()/1024*100;b=b>100?100:b,a(".timer-countdown").css("font-size",b+"%")})});var resizeBreakpoint=function(a){var b,c=["320","480","768","800","960","1024"],d=99999,e=99999,f={};return f.init=function(){return a(window).on("resize",function(){clearTimeout(b),b=setTimeout(function(){for(var a=windowWidth(),b=!0,f=0;f<c.length;f++)if(a<c[f]){d=0==f?c[f]:c[f-1],b=!1;break}b&&(d=c[c.length-1]),d!==e&&(e=d,ODFC.Events.trigger("resizeWindow",{BP:parseInt(d)}),console.log(d))},100)}),f},f.init()}(jQuery);window.SYM=window.SYM||{},SYM.Loading=function(a){var b={},c=a("body"),d=a(".loading-layer");return b.init=function(a){c.imagePreload({onImageCompleteLoading:function(b){d.find("strong").html("100%"),d.find(".inner-progress").css({width:"100%"}),d.fadeOut(500),setTimeout(function(){c.removeClass("loading"),"function"==typeof a&&a()},600)},onEachCompleteLoading:function(a){d.find("strong").html(a+"%"),d.find(".inner-progress").css({width:a+"%"})},onBeforeLoading:function(){d.find("strong").html("0%"),d.find(".inner-progress").css({width:"0%"})}})},b}(jQuery),SYM.UI={infoNavigation:function(){var a=$(".navigation");a.length&&$(".navigation li a").on("click",function(a){$(this).attr("href").indexOf("#")>=0&&(a.preventDefault(),$(this).addClass("active").parent().siblings().find("a").removeClass("active"),$($(this).attr("href")).addClass("active").siblings(".section").removeClass("active"))})},color:function(){$(".owl-carousel","#color").owlCarousel({items:1,loop:!0,nav:!0,dots:!1,navText:["&nbsp;","&nbsp;"]}),$(".btn-switcher","#color").off("click").on("click",function(){var a=$(this).attr("wrapper");return console.log(a),$(".motor-decor-carousel","#color").removeClass("active"),$("."+a).fadeOut(),$("."+a).addClass("active"),!1})},initLibrary:function(){$(".owl-carousel","#photo-gallery").owlCarousel({items:6,loop:!0,nav:!0,dots:!1,navText:["&nbsp;","&nbsp;"]}),$(".img-select","#photo-gallery").off("click").on("click",function(){$("#center-img","#photo-gallery").attr("src",$(this).attr("src"))})},featureSlider:function(){var a=$(".slick-slider");a.length&&a.each(function(){var a=$(this).closest(".section").attr("id");$(this).slick({speed:400,fade:!0,cssEase:"linear",prevArrow:$("#"+a+" .prev"),nextArrow:$("#"+a+" .next")})})}},$(document).ready(function(){SYM.Loading.init(function(){SYM.UI.infoNavigation(),SYM.UI.color(),SYM.UI.initLibrary(),SYM.UI.featureSlider(),$(window).trigger("resize")}),$(".header-rules a").length&&$(".header-rules a").click(function(a){a.preventDefault(),$(".header-rules a, .drak-popup-wrapper").removeClass("active"),$(this).addClass("active");var b=$(this).attr("href");$(b).addClass("active")})});