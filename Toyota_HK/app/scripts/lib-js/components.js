"use strict";window.ODFC=window.ODFC||{},window.ODFC.Events=window.ODFC.Events||{},window.iCog=window.iCog||{},window.iCog.utils=window.iCog.utils||{},window.iCog.utils.windowWidth=function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth},jQuery(function(i){window.iCog.navigation=function(){var n=i(".navigation"),t={},e=window.iCog.utils.windowWidth;return t.open=function(){if(window.ODFC.Events.trigger("closeSearch"),i(".nav-collapsed").addClass("active"),n.slideDown(),n.length>0){var t=n.find(".sub-level > li.active"),e=t.closest(".has-sub");e.addClass("expand");var s=0,l=e.find(">ul");l.find("li").each(function(){s+=i(this).height()}),l.height(s)}},t.close=function(){window.innerWidth<1024&&(i(".nav-collapsed").removeClass("active"),n.slideUp(function(){n.removeAttr("style")}))},t.initHoverTouchTablet=function(){n.find("ul>li>a").on("click touchstart touchmove",function(n){var t=e();if(t>800||1025>t){var s=i(this).siblings("ul");s.length&&(i(this).parent().hasClass("show-sub")||(n.preventDefault(),i(this).parent().addClass("show-sub").siblings().removeClass("show-sub")))}})},t.init=function(){return i("html").hasClass("touch")&&t.initHoverTouchTablet(),i(".nav-collapsed").on("click",function(){i(this).hasClass("active")?t.close():t.open()}),i("body").on("click",function(n){if(!(e()>=800)){var s=i(".nav-collapsed, .navigation");s.is(n.target)||0!==s.has(n.target).length||t.close()}}),n.find("li").each(function(){i(this).find(">ul").length&&i(this).addClass("has-sub").find("ul").addClass("sub-level").end().find(">a").after('<span class="toggle"></span>')}),n.find(".has-sub > .toggle").on("click",function(){var n,t,e=i(this).closest("li"),s=e.find(">ul");e.hasClass("expand")?(e.removeClass("expand"),n=e.find("ul").height(),e.find("ul").height(0),s.parents("ul.sub-level").length&&(t=s.parents("ul.sub-level"),t.height(t.height()-n))):(e.addClass("expand"),n=0,s.find(">li").each(function(){n+=i(this).height()}),s.height(n),s.parents("ul.sub-level").length&&(t=s.parents("ul.sub-level"),t.height(t.height()+n)))}),t},t.init()}()});