$(function(){window.htmlUnifier=function(e){var t=e(".validate-form"),i=function(){};return i.parseRaioCheckbox=function(i){var n;n="undefined"==typeof i?t:i,n.find(".checkbox-group, .radio-group").each(function(){e(this).find("br").remove();var t=e(this).find("input"),i=t.first().attr("type"),n=" "+i+"UI "+i+"-primary";t.each(function(){e(this).add(e(this).next()).wrapAll("<div class='input-wrapper ui-"+i+" "+n+"'></div>")});var a=e(this).children(".ExplanationText");a.length&&(e(this).find(".checkboxUI label").html(a.html()),a.remove())})},i.parseValidationAttr=function(i){var n;n="undefined"==typeof i?t:i,n.find(".form-group").each(function(){var t=e(this).find('input[type!="hidden"], textarea, select'),i=e(this).find(".attributes.hide");if(1===t.length){if(0===i.length)return;var n={},a=i.get(0).attributes;e.each(a,function(e,t){t.name.indexOf("data-")>=0&&(n[t.name]=t.value)}),t.attr(n)}})},i.init=function(){return i.parseRaioCheckbox(),i.parseValidationAttr(),i},i.init()}(jQuery);var e=$(".validate-form"),t=function(e){return e.find('input[type="checkbox"]:checked').length>0?(e.removeClass("has-error"),e.find("label.error-carmodel").addClass("hide"),!0):(e.addClass("has-error"),e.find("label.error-carmodel").removeClass("hide"),!1)};if(e.length){var i=e.find(".charcount textarea");i.length&&i.each(function(e){var t=$(this).closest(".form-group").find(".counter");0!==t.length&&(this.counter=t,this.charmaxlength=parseInt($(this).attr("maxlength")),$(this).on("keyup",function(){this.counter.html(this.charmaxlength-$(this).val().length)}))}),e.find(".form-group").each(function(){var e=$(this).find("input, select, textarea"),t=$(this).find(".attributes.hide");if(1===e.length){if(0===t.length)return;var i={},n=t.get(0).attributes;$.each(n,function(e,t){t.name.indexOf("data-")>=0&&(i[t.name]=t.value)}),e.attr(i)}}),e.find(".checkboxUI").checkboxUI(),e.find(".radioUI").radioUI(),e.find("select").selectpicker({style:"btn-info",size:5,caretHTML:'<span class="glyphicon glyphicon-chevron-down"></span>'}).on("changed.bs.select",function(e,t){$(this).valid()});var n=$(".car-model");n.length&&(n.find('input[type="checkbox"]').on("change",function(){t(n)}),n.closest(".test-drive").length&&"object"==typeof carModelIMG&&n.find("input").each(function(e,t){var i=$(this).val().toUpperCase();if(carModelIMG[i]){var n=carModelIMG[i],a=$('<img class="car-model__img">');a.attr("src",n),$(this).before(a)}})),e.find(".datepicker-group").length&&(e.find(".datepicker-group input").datepicker({format:"dd/mm/yyyy",startDate:new Date,autoclose:!0,orientation:"bottom"}),e.find(".datepicker-group .icon").on("click",function(){e.find(".datepicker-group input").datepicker("show")})),e.on("focusin","input, select, textarea",function(){$(this).closest(".form-group").addClass("focused")}).on("focusout","input, select, textarea",function(){$(this).closest(".form-group").removeClass("focused")}),e.validate({submitHandler:function(i){var n=e.find(".car-model");return n.length?t(n):!0},highlight:function(e,t){$(e).closest(".form-group").addClass("has-error")},unhighlight:function(e,t){$(e).closest(".form-group").removeClass("has-error")},errorPlacement:function(e,t){var i=!1,n=t[0].tagName.toLowerCase();if("input"===n){var a=t.attr("type").toLowerCase();("text"===a||"date"===a||"email"===a)&&(i=!0)}else"textarea"===n&&(i=!0);i&&e.addClass("float-label"),t.closest(".form-group").append(e),e.removeAttr("display","none")}}),$("#numvehicleinquiry").on("change",function(e){var t,i=$("#numvehicleinquiry").val(),n=$.validator.format($.trim($("#vehicle-inquiry-template").text())),a="";if($("#templateNumberVehicleInquiry").html(""),i.length>0){for(var r=0;i>r;r++)a+=n(r);t=$(a),htmlUnifier.parseValidationAttr(t),$("#templateNumberVehicleInquiry").append(t)}})}});