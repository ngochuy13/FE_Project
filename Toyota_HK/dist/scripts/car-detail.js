window.Toyota=window.Toyota||{},jQuery(function(t){window.Toyota.GeneralUI={IEPolyfill:function(){if(t("html.ie8").length){var a=t(".car-detail");a.find(".image-vertical-middle img").each(function(a,i){var e=window.Toyota.utils.getNatural(i).width,n=t(window).width();if(e>n){var o=(e-n)/2;t(i).parents(".section-super-wide-content").length?t(i).css("left","-"+o+"px"):t(i).parent().css("left","-"+o+"px")}})}},initListOfInterest:function(){if(t(".block-lists-interest").length){var a=t(".block-lists-interest");a.owlCarousel({center:!0,items:3,loop:!0,dots:!1,nav:!1,margin:0,responsive:{0:{items:1.5,center:!0,merge:!0},767:{items:1.5,center:!0,merge:!0},1366:{items:3,center:!0,merge:!1},1920:{items:3,center:!0,merge:!1}}})}},initImgDrag:function(){var a=t(".image-drag");return 0===a.length||t(window).width()<1025?!1:void interact(".image-drag").draggable({inertia:!0,onmove:function(a){var i=a.target,e=t(i).find("img"),n=(parseFloat(e.attr("data-x"))||0)+a.dx,o=(parseFloat(e.attr("data-y"))||0)+a.dy,r=t(e).width(),c=t(e).height(),s=t(i).parent().width(),l=t(i).parent().height();(-n>=r-s||r-s==0||n>0)&&(n=parseFloat(e.attr("data-x"))),(-o>=c-l||c-l==0||o>0)&&(o=parseFloat(e.attr("data-y"))),t(i).css({position:"relative",left:n+"px",top:o+"px"}),e.attr("data-x",n),e.attr("data-y",o)},onend:function(t){t.target}})}},t(window).load(function(){window.Toyota.GeneralUI.initImgDrag()})}),jQuery(function(t){function a(){t(".section-change-color-car .animation").height(22),t(".section-change-color-car .animation").animate({height:"+=54"},1500,"linear",function(){a()})}window.changeColorCar=function(t){var a=t(".section-change-color-car-content");if(0!==a.length){var i={},e=a.find("#mask-view"),n=a.find("#masked-image"),o=a.find(".block-lists-car"),r=!1,c="light-blue",s=e.height(),l=parseInt(e.attr("height"))/parseInt(e.attr("width")),d=function(){o.find(".car").filter("."+c).addClass("active").siblings().removeClass("active")},f=function(a){var i=a.target,e=t(i).parent().parent();if(!r&&c!=e.attr("data-color")){var i=a.target,n=(parseFloat(i.getAttribute("data-x"))||0)+a.dx,o=(parseFloat(i.getAttribute("data-y"))||0)+a.dy;t(i).css({position:"relative",left:n+"px",top:o+"px","z-index":3}),i.setAttribute("data-x",n),i.setAttribute("data-y",o)}},u=function(a){var i=a.target;t(i).fadeOut(300,function(){t(this).removeAttr("data-x").removeAttr("data-y").removeAttr("style")})},g=function(a){var i=a.relatedTarget,s=t(i).parent().parent();if(!r&&c!=s.attr("data-color")){c=s.attr("data-color"),r=!0,s.addClass("active").siblings(".active").removeClass("active");var l=o.find(".car").filter("."+c),f=l.find("img").attr("src");t("#walt-embed").attr("r",1),e.attr("class","mask active"),n.attr("xlink:href",f);var u=e.width()/2,g=0,v=setInterval(function(){g>=120&&(r=!1,e.attr("class","mask"),d(),clearInterval(v)),g+=8;var a=Math.floor(u*g/100);t("#walt-embed").attr("r",a)},30)}};return i.init=function(){d(),t("#walt-embed").attr({cx:e.width()/2,cy:s/2});var a=t(window).width();return 1010>a&&(s=parseInt(e.width())*l,e.height(s)),a>1024?(interact(".block-lists-color .color-item img").draggable({inertia:!0,onmove:f,onend:u}),interact(".block-lists-car").dropzone({accept:".block-lists-color .color-item img",overlap:1,ondrop:g})):t(".block-lists-color .color-item img").on("click",function(){var a=t(this).parent().parent();c=a.attr("data-color"),a.addClass("active").siblings(".active").removeClass("active");o.find(".car").filter("."+c).addClass("active").siblings(".active").removeClass("active")}),t(window).resize(function(){s=parseInt(e.width())*l,e.height(s)}),i},i.init()}}(jQuery),window.MaskSlide=function(){var a=t(".section-change-color-car-slider");if(0!==a.length){var i={},e=980,n=799,o=Math.round((a.width()-e)/2),r=o-3*e,c=a.width(),s=a.find(".handles"),l=a.find(".mask"),d=200;resizeTimeout=0;var f=function(i){resizeTimeout&&clearTimeout(resizeTimeout),resizeTimeout=setTimeout(function(){var i=t(this).width();if(i>=1024){e=980,n=799,o=Math.round((a.width()-e)/2),r=o-3*e,c=a.width(),a.find(".handle").each(function(a){t(this).css("left",r+e*a)}),b();var s=parseInt(a.find(".handles").attr("data-x"));isNaN(s)&&(s=0),m(s)}else if(i>=768){e=i,n=650,o=Math.round((a.width()-e)/2),r=o-3*e,c=a.width(),a.find(".handle").each(function(a){t(this).css("left",r+e*a)}),b();var s=parseInt(a.find(".handles").attr("data-x"));isNaN(s)&&(s=0),m(s)}},d)},u=function(a,i,n,o,r){var c=parseInt(a-i)<0?-1*parseInt(a-i):parseInt(a-i),s=parseInt(c/200)+7;bloodAnimation=!0,t(".car-prius-c-detail .section-change-color-car-slider .block-lists-color").toggleClass("disabled",bloodAnimation);var l=setInterval(function(){if(n){if(i>=a){if(clearTimeout(l),t(o).css("left",i).attr("data-x",i).attr("data-dx",i),m(i),r){if(i==-(11*e)){var c=-(1*e);t(o).css("left",c).attr("data-x",c).attr("data-dx",c),m(c)}if(i==2*e){var c=-(8*e);t(o).css("left",c).attr("data-x",c).attr("data-dx",c),m(c)}}return bloodAnimation=!1,void t(".car-prius-c-detail .section-change-color-car-slider .block-lists-color").toggleClass("disabled",bloodAnimation)}a-=s,t(o).css("left",a),m(a)}else{if(a>=i){if(clearTimeout(l),t(o).css("left",i).attr("data-x",i).attr("data-dx",i),m(i),r){if(i==-(11*e)){var c=-(1*e);t(o).css("left",c).attr("data-x",c).attr("data-dx",c),m(c)}if(i==2*e){var c=-(8*e);t(o).css("left",c).attr("data-x",c).attr("data-dx",c),m(c)}}return bloodAnimation=!1,void t(".car-prius-c-detail .section-change-color-car-slider .block-lists-color").toggleClass("disabled",bloodAnimation)}a+=s,t(o).css("left",a),m(a)}},10)},g=function(t,i){var e=t,n=a.find(".block-lists-color");n.find(".color-item[data-color="+e+"]").addClass("active").siblings(".active").removeClass("active"),a.find(".block-ow-caption .title-small").html(i)},v=function(a){var i=a.target,e=(parseInt(i.getAttribute("data-x"))||0)+a.dx;t(i).attr("data-dx",e)},h=function(a){var i=a.target,n=parseInt(i.getAttribute("data-x"))||0,o=parseInt(i.getAttribute("data-dx"))||0,r=parseInt(Math.abs(n-o)/e*100);if(Math.abs(r)>50){var c;o>n&&(c=o-e),n>o&&(c=o+e),u(n,c,n>=c?!0:!1,t(i),!0)}else u(n,o,n>=o?!0:!1,t(i),!1)},p=function(a){{var i=a.target,e=(parseInt(i.getAttribute("data-x"))||0)+a.dx;parseInt(i.getAttribute("data-dx"))||0}t(i).css("left",e).attr("data-x",e),m(e)},m=function(i){a.find(".mask").each(function(a){var c=r+e*a+i,s=r+e*(a+1)+i;t(this).attr("style","clip: rect(0px,"+s+"px, "+n+"px, "+c+"px);");var l=o,d=r+e*(a+1)+i;side=d>l?-1:1,delta=side*(d-l)+e;var f=1-Math.abs(delta/e);if((0>f||f>1)&&(f=0),f=parseInt(10*f)/10,t(this).find(".bg-car").css({opacity:f}),d==l+e){var u=t(this).attr("data-color"),v=t(this).attr("data-title");g(u,v)}})},w=function(){var i=l.filter(":lt(3)"),n=t(".mask:gt("+(l.length-4)+")");i.clone().appendTo(".mask-wrap"),n.clone().prependTo(".mask-wrap"),l=a.find(".mask");for(var o="",c=0;c<l.length;c++)o+='<a href="#" class="handle"></a>';s.append(t(o)),a.find(".handle").each(function(a){t(this).attr("data-id",a).css("left",r+e*a)}),a.find(".handle").on("mousedown",function(){var a=t(this).attr("data-id");t(this).addClass("active").parent().attr("data-id",a)}).on("mouseup",function(){t(this).removeClass("active")})},b=function(t){a.find(".handles").attr("data-x",t).attr("data-dx",t)},C=function(i){a.find(".block-lists-color .color-item").on("click",function(){if(t(window).width()<1024){var a=parseInt(t(this).data("index"));m(-(a-1)*e)}})};return i.init=function(){w(),f(),b(-(4*e)),m(-(4*e)),C(),a.data("init",!0),t(".handles").on("click",".handle",function(t){t.preventDefault()});var n=!0,o=function(a,i){bloodAnimation=!0,t(".car-prius-c-detail .section-change-color-car-slider .block-lists-color").toggleClass("disabled",bloodAnimation);var e=t(".handles"),o=a,r=i;n=!1;var c=setInterval(function(){return r>=o?(clearTimeout(c),t(e).css("left",r).attr("data-x",r).attr("data-dx",r),m(r),bloodAnimation=!1,void t(".car-prius-c-detail .section-change-color-car-slider .block-lists-color").toggleClass("disabled",bloodAnimation)):(o-=10,t(e).css("left",o),void m(o))},10)};return t(window).scroll(function(){t(window).scrollTop()>=t(".section-change-color-car-slider").offset().top-200&&n&&o(-(4*e),-(5*e))}),t(window).width()>=1024&&t(".block-lists-color .color-item img").on("click",function(){if(!bloodAnimation){var a=t(this).parent().parent();dataColor=a.attr("data-color");var i=t(t('.mask-wrap div[data-color="'+dataColor+'"]').get(0)).index();(3>i||i>11)&&(i=t(t('.mask-wrap div[data-color="'+dataColor+'"]').get(1)).index());var n=parseInt(t(".car-prius-c-detail .handles").attr("data-x")),o=-(e*(i-3));u(n,o,n>=o?!0:!1,t(".handles"),!0)}}),t(window).resize(f),interact(".handles").draggable({inertia:!0,onstart:v,onmove:p,onend:h}),i},i.init()}}(jQuery),t(".section-change-color-car").length&&t(window).width()>1024&&(t(".section-change-color-car .color-item").eq(1).find(".icon").append('<span class="animation"></span>'),t(".section-change-color-car .icon").hover(function(){t(".section-change-color-car .animation").remove()}),t(".ie9").length&&a())}),jQuery(function(t){window.Toyota.carUniqueCharacter=function(){var a=t(".car-detail");if(0!==a.length){var i={};return i.initSliderAuto=function(a){var i=t(a);if(0===i.length)return!1;if(0===i.find(".section-slider-auto").length)return!1;var e=(i.find(".section-slider-auto .owl-carousel-car-auto"),function(a){t(this).find(".item").each(function(a,i){var e=t(this).attr("data-delay"),n=t(this).attr("data-duration");e&&n&&t(this).delay(parseInt(e)).fadeOut(parseInt(n))})});i.find(".section-slider-auto:not(:first)").appear(),i.find(".section-slider-auto:first").each(e),t(document.body).on("appear",".section-slider-auto",e)},i.initLightCar=function(a){var i=t(a);if(0===i.length)return!1;var e=i.find(".section-light-in-car");if(0===e.length||e.find(".images-container .item").length<=1)return!1;e.find(".images-container .item").css("opacity",1);var n=function(t){var a=100/(t.find(".images-container .item").length-1);t.find('input[type="range"]').css({position:"absolute",top:0}).rangeslider({polyfill:!1,onSlide:function(i,e){this.$range.removeClass("step-1 step-2 step-3").addClass("step-"+(Math.ceil(e/50)+1));var n=Math.ceil((100-e)/a),o=t.find(".images-container");o.find(".item:gt("+n+")").css("opacity",0).end().find(".item:eq("+n+")").css("opacity",1-e%a/a);var r=o.find(".item").eq(n).attr("data-title");t.find(".block-caption .note-text").html(r)}})};1==e.length?n(e):e.each(function(a,i){n(t(this))})},i.initBannerSwitcher=function(a){var i=t(a);if(0===i.length)return!1;var e=i.find(".owl-carousel-car-view"),n=i.find(".owl-carousel-car-view-nav");t(window).width()<1024&&setTimeout(function(){n.css("top",e.find("img:first").height()-70)},1e3);var o;t(window).on("resize",function(){o&&clearTimeout(o),o=setTimeout(function(){t(window).width()<1024?n.css("top",e.find("img:first").height()-70):n.removeAttr("style")},300)});var r=!1;e.owlCarousel({center:!0,items:1,loop:!1,dots:!0,nav:!1,mouseDrag:!1,touchDrag:!1,margin:0,speed:200,animateOut:"fadeOut",animateIn:"fadeIn",URLhashListener:!1}),i.on("to.owl.carousel",function(){r=!0}).on("changed.owl.carousel",function(){r=!1}),n.find(".nav").data("current-idx",0).on("click",function(a){a.preventDefault();var i=t(this).data("current-idx");nextInd=1==i?0:1,t(this).toggleClass("right",1==nextInd),t(this).data("current-idx",nextInd),e.data("owlCarousel").to(nextInd),t(this).parent().find("a").attr("style",""),t(".section-car-drag .block-drag-item, .section-car-drag .block-car-mobile img").length&&(t(".section-car-drag .block-drag-item, .section-car-drag .block-car-mobile img").removeClass("show"),t(".section-car-drag .block-drag-item img").removeClass("can-drop"),t(".section-car-drag .dropzone").removeClass("done"),nextInd?t(".section-car-drag .block-drag-item.item-beach, .section-car-drag .block-car-mobile .img-beach").addClass("show"):t(".section-car-drag .block-drag-item.item-picnic, .section-car-drag .block-car-mobile .img-picnic").addClass("show"))})},i.initWideLong=function(a){var i=t(a);return 0===i.length?!1:(i.find(".block-wide-long-img .item").each(function(a,i){t(this).hasClass("img-size")||t(this).hide()}),void i.find(".block-wide-long-control .item").on("click",function(a){a.preventDefault();var e=t(this).data("id");t(this).prevAll().addClass("active"),t(this).addClass("active"),t(this).nextAll().removeClass("active"),console.log(e),i.find(".block-wide-long-img .item").each(function(a,i){t(this).hasClass("img-size")||(t(this).data("id-item")==e?t(this).fadeIn(300):t(this).fadeOut(300))})}))},i.initSientaCar=function(a){var i=t(a);if(0===i.length)return!1;var e=!0;t(window).scroll(function(){t(window).scrollTop()>=i.offset().top-200&&e&&(i.find(".block-content").addClass("active"),i.find(".block-ow-caption").addClass("active"),i.find(".block-content .block-wheel").addClass("active"))}),i.find(".icon-click").on("click",function(){t(this).parent().addClass("active"),t(".section-car-run-sienta .block-arrow").addClass("active")})},i.ractisRoof=function(a){var i=t(a);if(0===i.length)return!1;var e=i.find(".block-sky");if(e.length){e.owlCarousel({center:!0,items:1,loop:!0,dots:!1,nav:!1,autoplay:!0,autoplayTimeout:5e3,speed:200,animateOut:"fadeOut",animateIn:"fadeIn",margin:0,responsiveClass:!0,responsive:{0:{items:1,loop:!0},600:{items:1,loop:!0},1e3:{items:1,loop:!0}}})}var n=i.find(".block-cloudy");if(n.length){n.bxSlider({auto:!0,autoControls:!1,pause:0,autoDelay:0,speed:5e4,controls:!1,pager:!1,responsive:!1,slideMargin:0,mode:"vertical"})}},i.initCarDrag=function(){var a=t(".section-car-drag");if(0===a.length)return!1;if(t(window).width()<1056){var i=t(".block-drag-item img");return void t.each(i,function(){""!=t(this).attr("data-img-drop")&&t(this).attr("src",t(this).attr("data-img-drop"))})}var e=t(".section-car-drag"),n=function(a){var i=a.target,n=(parseFloat(i.getAttribute("data-x"))||0)+a.dx,o=(parseFloat(i.getAttribute("data-y"))||0)+a.dy;t(i).css({left:n+"px",top:o+"px"}),i.setAttribute("data-x",n),i.setAttribute("data-y",o),e.find(".dropzone").addClass("drop-target")},o=function(a){var i=a.target;t(i).hasClass("dropped")||(t(i).removeAttr("style"),i.setAttribute("data-x",i.getAttribute("data-dx")),i.setAttribute("data-y",i.getAttribute("data-dy"))),e.find(".dropzone").removeClass("drop-target")},r=function(a){var i=!0;e.find(".block-drag-item.show img").each(function(){return t(this).hasClass("can-drop")?void 0:void(i=!1)}),i&&e.find(".block-drag-container").addClass("done")},c=function(a){{var i=t(a.relatedTarget);t(a.target)}i.addClass("can-drop"),i.attr("data-img-drop")&&i.attr("src",i.attr("data-img-drop")),r()};interact(".section-car-drag .draggable").draggable({inertia:!0,onmove:n,onend:o}),interact(".section-car-drag .dropzone").dropzone({accept:".section-car-drag .block-drag-item img",overlap:.35,ondrop:c})},i.initSliderNavDrag=function(){var a=t(".owl-carousel-car-view-nav");if(0===a.length)return!1;var i=(a.find("a"),function(a){var i=a.target,e=(parseFloat(i.getAttribute("data-x"))||0)+a.dx;(e>43||0>e)&&(e=i.getAttribute("data-x")),t(i).css({left:e+"px"}),i.setAttribute("data-x",e)}),e=function(i){var e=i.target,n=0,o=(parseFloat(e.getAttribute("data-x"))||0)+i.dx;o>21.5?(o=43,n=1):o=0,t(e).css({left:o+"px"}),e.setAttribute("data-x",o);var r=a.find(".nav").data("current-idx");r!=n&&(a.find(".nav").toggleClass("right",1==n),a.find(".nav").data("current-idx",n),t(".owl-carousel-car-view").data("owlCarousel").to(n),t(".section-car-drag .block-drag-item, .section-car-drag .block-car-mobile img").length&&(t(".section-car-drag .block-drag-item, .section-car-drag .block-car-mobile img").removeClass("show"),t(".section-car-drag .block-drag-item img").removeClass("can-drop"),t(".section-car-drag .dropzone").removeClass("done"),n?t(".section-car-drag .block-drag-item.item-beach, .section-car-drag .block-car-mobile .img-beach").addClass("show"):t(".section-car-drag .block-drag-item.item-picnic, .section-car-drag .block-car-mobile .img-picnic").addClass("show")))};interact(".owl-carousel-car-view-nav a").draggable({inertia:!0,onmove:i,onend:e})},i.initAsyncBanner=function(a){var i=t(a);if(0===i.length)return!1;var e=i.find(".section-prius-c-banner");return e.length<=0?!1:void e.find(".owl-carousel-bg-car").owlCarousel({center:!0,items:1,dots:!0,nav:!1,margin:0,mouseDrag:!1,touchDrag:!1,animateOut:"fadeOutDelay",animateIn:"fadeInDelay",responsive:{1023:{mouseDrag:!0,touchDrag:!0},1920:{mouseDrag:!1,touchDrag:!1}}}).on("changed.owl.carousel",function(t){e.find(".owl-carousel-car .item").eq(t.page.index).addClass("active").siblings().removeClass("active")})},i.initFurnitureCar=function(a){var i=t(a);if(0===i.length)return!1;if(0!=i.find(".section-furniture-car").length){var e=i.find(".section-furniture-car"),n=e.find(".owl-carousel-furniture-car");n.owlCarousel({center:!0,items:1,loop:!1,dots:!1,nav:!1,margin:0,mouseDrag:!1,touchDrag:!1}),e.find(".carousel-furniture-car-navigation span").on("click",function(){n.trigger(t(this).hasClass("next")?"next.owl.carousel":"prev.owl.carousel");var a=n.data("owlCarousel")._current+1,o=e.find(".owl-carousel-furniture-car .owl-item:nth-child("+a+") .item-furniture-car").attr("data-title"),r=e.find(".owl-carousel-furniture-car .owl-item:nth-child("+a+") .item-furniture-car").attr("data-class");if(e.find(".carousel-furniture-car-navigation").attr("class","carousel-furniture-car-navigation active").addClass(r),e.find(".carousel-furniture-car-navigation .slide-title .change").html(o),t(window).width()>1024){var c,s,l;2==a?c=setTimeout(function(){e.find(".slide-2 .door").addClass("active move"),s=setTimeout(function(){e.find(".slide-2 .block-arrow").addClass("active move"),l=setTimeout(function(){e.find(".slide-2 .block-tooltip").removeClass("hidden"),e.find(".block-balloon").addClass("active")},2e3)},2e3)},500):(clearTimeout(c),clearTimeout(s),clearTimeout(l),e.find(".slide-2 .door").removeClass("active move"),e.find(".slide-2 .block-arrow").removeClass("active move"),e.find(".slide-2 .block-tooltip").addClass("hidden"),e.find(".block-balloon").removeClass("active"))}else{var d=e.find(".owl-carousel-furniture-car .owl-item:nth-child("+a+") .item-furniture-car").attr("data-tooltip");i.find(".car-noah-detail .block-popup > div").removeClass("active"),i.find(".car-noah-detail .block-popup ."+d).addClass("active")}}),e.find(".owl-carousel-furniture-car .icon-tooltip").on("click",function(){e.find(".carousel-furniture-car-navigation").removeClass("active")}),e.find(".block-popup .close-btn a").on("click",function(){e.find(".carousel-furniture-car-navigation").addClass("active")})}},i.initSlideNoah=function(a){var i=t(a);if(0===i.length)return!1;var e=i.find(".section-slide-noah");if(!(0==e.length||t(window).width()<=1024)){var n=!1;e.find(".icon").on("click",function(a){if(a.preventDefault(),!n){n=!0,t(this).parent().toggleClass("active"),e.find(".car-move").toggleClass("active"),e.find(".block-ow-caption").toggleClass("active");var o=(t(window).height()-i.find(".section-slide-noah").height())/2;0>o&&(o=0),setTimeout(function(){t("html, body").animate({scrollTop:i.find(".section-slide-noah").height()-o},1e3)},3e3),setTimeout(function(){e.find(".car-move").toggleClass("active"),e.find(".block-control .nav").toggleClass("active"),e.find(".block-ow-caption").toggleClass("active"),n=!1},4e3)}})}},i.initBabySeats=function(a){var i=t(a);if(0===i.length)return!1;var e=i.find(".block-tab-car-control");0!==e.length&&(t(window).width()>1024?e.find(".block-control a").on("click",function(a){a.preventDefault();var e=t(this).attr("data-id");t(this).addClass("active").siblings().removeClass("active"),i.find('.block-tab-car-content .block-img[data-id="'+e+'"]').addClass("active").siblings().removeClass("active")}):e.find(".block-control-nav-mobile span").on("click",function(){var a;if(a=t(this).hasClass("next")?e.find(".block-control a.active").next():e.find(".block-control a.active").prev()){a.addClass("active").siblings().removeClass("active");var n=a.attr("data-id");i.find('.block-tab-car-content .block-img[data-id="'+n+'"]').addClass("active").siblings().removeClass("active")}}))},i.init=function(t){return i.initSliderAuto(".car-camry-detail"),i.initLightCar(".car-camry-detail"),i.initBannerSwitcher(".car-ractis-detail .section-slider-view, .car-sienta-detail .section-slider-view"),i.ractisRoof(".car-ractis-detail"),i.initAsyncBanner(".car-prius-c-detail"),i.initFurnitureCar(".car-noah-detail"),i.initSlideNoah(".car-noah-detail"),i.initBabySeats(".car-noah-detail"),i.initSientaCar(".section-car-run-sienta"),i.initCarDrag(),i.initSliderNavDrag(),i.initWideLong(".section-wide-long"),i},i.init()}}(jQuery)}),jQuery(function(t){window.Toyota.carDetailInteraction=function(){var a=t(".car-detail");if(0!==a.length){var i={},e=function(a){var i=t(a);if(0===i.length)return!1;if(i.find(".owl-carousel-car-view .item").length<=1)return!1;var e=i.find(".owl-carousel-car-view");e.data("owlCarouselLength",e.find(".item").length),e.owlCarousel({center:!0,items:1,loop:!0,dots:!0,nav:!1,mouseDrag:!1,touchDrag:!1,margin:0}),e.on("changed.owl.carousel",function(a){t(this).parent().find(".tooltip-title-container p").eq(a.page.index).removeClass("hide").siblings().addClass("hide")}),i.find(".nav-5 a").on("click",function(a){a.preventDefault();var i=t(this).hasClass("next"),e=t(this).closest(".tab-content-car-carousel").find(".owl-carousel-car-view");t(e).trigger(i?"next.owl.carousel":"prev.owl.carousel")})};i.initTooltip=function(){t(".car-detail .tooltip").each(function(){var a=t(this),i=a.attr("data-x"),e=a.attr("data-y"),n=a.attr("data-dx"),o=a.attr("data-dy"),r=a.attr("data-dir");i=i?parseFloat(i):0,e=e?parseFloat(e):0,n=n?parseFloat(n):0,o=o?parseFloat(o):0;var c,s,l=t(this).width()/19.2,d=t(this).height()/19.2;"bottom"===r?(s=e-(o+d),c=i+n+l/2):"top"===r?(s=e+o,c=i+n+l/2):"left"===r?(s=e+o+d/2,c=i+n):"right"===r&&(s=e+o-d/2,c=i-(n+l)),a.css({top:s+"%",left:c+"%"}),0!==n?a.find("span").css({width:n/(l/100)+"%"}):0!==o&&a.find("span").css({height:o/(d/100)+"%"})}),a.find(".block-tooltip .tooltip").on("click.tooltip",function(a){a.preventDefault();var i="#"+t(this).attr("data-target");t(i).siblings(".tooltip-detail-content").removeClass("active").end().addClass("active").closest(".block-popup").addClass("active"),n(i)})},i.initTooltipNav=function(){a.find(".car-section-content .close-btn a").on("click",function(a){a.preventDefault(),t(this).closest(".block-popup").removeClass("active").find(".tooltip-detail-content").removeClass("active")}),a.find(".tooltip-navigation").find(".next, .prev").on("click",function(){var a=t(this).hasClass("next"),i=t(this).closest(".block-popup"),e=i.find(".tooltip-detail-content.active");e.removeClass("active");var o=a?e.next(".tooltip-detail-content"):e.prev(".tooltip-detail-content");if(o.length)var r=o.addClass("active");else if(a)var r=i.find(".tooltip-detail-content").first().addClass("active");else var r=i.find(".tooltip-detail-content").last().addClass("active");n(r)})},i.initTooltipCarousel=function(a){var i=t(a);if(0===i.length)return!1;if(i.find(".images-container .item").length<=1)return!1;i.find(".images-container").owlCarousel({center:!0,items:1,loop:!1,dots:!0,nav:!1,margin:0});i.find(".dots-nav").length&&i.find(".dots-nav a").on("click",function(a){a.preventDefault(),i.find(".images-container").data("owlCarousel").to(t(this).attr("data-index"),200)})},i.initTooltipRangeSlider=function(a){var i=t(a);if(0===i.length)return!1;if(i.find(".images-container .item").length<=1)return!1;i.find(".images-container .item").css("opacity",1);var e=100/(i.find(".images-container .item").length-1);i.find('input[type="range"]').css({position:"absolute",top:0}).rangeslider({polyfill:!1,onSlide:function(t,a){var n=i.find(".images-container"),o=Math.ceil((100-a)/e);n.find(".item:gt("+o+")").css("opacity",0),n.find(".item:eq("+o+")").css("opacity",1-a%e/e)}})};var n=function(a){t(a).closest(".block-popup").find(".tooltip-title-container").html(t(a).find(".tooltip-title").html())},o=function(){t(window).width()<1025?a.find(".block-popup .tooltip-detail-content").find(".icon-tooltip-phone, .tooltip-title").on("click.tooltip",function(a){a.preventDefault(),t(this).parent().toggleClass("active")}):a.find(".block-popup .tooltip-detail-content").find(".icon-tooltip-phone, .tooltip-title").off("click.tooltip")},r=function(){a.find(".tooltip-detail-content").each(function(a,e){var n=t(this).attr("data-type");switch(n){case"carousel":i.initTooltipCarousel(this);break;case"range-slider":i.initTooltipRangeSlider(this)}})},c=function(){var i=a.find(".section-car-detail-navigation");i.find(".tab").on("click",function(e){e.preventDefault();var n=t(this).attr("data-id");i.find(".tab").removeClass("active"),i.find(".tab[data-id="+n+"]").addClass("active");var o=a.find(".section-car-detail-content");o.find("> div").removeClass("active"),o.find("#tab-"+n).addClass("active")})};return i.init=function(){return a.find(".section-car-detail").length?(window.Toyota.GeneralUI.IEPolyfill(),c(),i.initTooltip(),r(),t(window).width()<1025&&o(),e(".section-car-detail-content .tab-content-car-carousel"),i.initTooltipNav(),void t(window).resize(function(){})):!1},t(window).load(function(){i.init()}),i}}()}),jQuery(window).load(function(){window.Toyota.GeneralUI.initListOfInterest()});